<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>GitHub Digests » Settings</title>
    <style>
      html, body {
        font-family: "Helvetica Neue", "Helvetica";
        font-size: 14pt;
        text-align: center;
      }

      main {
        display: inline-block;
        text-align: left;
      }

      fieldset {
        margin: 2em 0;
        border-radius: 20px 10px;
        padding-top: 1em;
        padding-bottom: 1em;
      }

      legend {
        font-weight: bold;
      }

      details {
        margin: 1em 0;
      }

      section {
        margin: 0.5em 0;
      }

      label.help {
        display: block;
        margin-top: 1em;
        font-style: italic;
      }

      #form_delete {
        margin: 5em 0;
        border-top: 1px solid gray;
        border-bottom: 1px solid gray;
        padding: 1em 0;
      }

      #form_delete fieldset {
        border: 1px groove red;
      }

      nav ul {
        list-style: none;
        padding: 0;
      }
    </style>

    <script>
      (function() {
        var d = document;

        d.addEventListener('DOMContentLoaded',
          function() {
            d.getElementById('frequency').addEventListener('change',
              function(event) {
                d.getElementById('daily_hour').disabled = ! d.getElementById('frequency_daily').checked;
                d.getElementById('daily_hour').required = d.getElementById('frequency_daily').checked;

                d.getElementById('weekly_day').disabled = ! d.getElementById('frequency_weekly').checked;
                d.getElementById('weekly_day').required = d.getElementById('frequency_weekly').checked;

                d.getElementById('weekly_hour').disabled = ! d.getElementById('frequency_weekly').checked;
                d.getElementById('weekly_hour').required = d.getElementById('frequency_weekly').checked;
              }
            );

            d.getElementById('checkbox_enable_delete').addEventListener('change',
              function(event) {
                d.getElementById('button_delete').disabled = ! event.target.checked;
              }
            );

            d.getElementById('button_delete').addEventListener('click',
              function(event) {
                alert('Coming soon!');
              }
            );
          }
        );
      }).call(this);
    </script>
  </head>
  <body>
    <header>
      <h1>GitHub Digests » Settings</h1>
    </header>

    <main>
      <form id="settings" action="/settings" method="POST">
        <fieldset>
          <legend>Email Address</legend>

          <label>
            Send digests to
            <select id="email" name="email" required>
              <option>avi@aviflax.com (primary)</option>
              <option>avif@arc90.com</option>
            </select>
          </label>

          <details>
            <summary>Per-organization routing</summary>
            <section>
              <label>Arc90
                <select id="arc90_email" name="arc90_email" required>
                  <option value="default">Default address</option>
                  <option value="avi@aviflax.com">avi@aviflax.com (primary)</option>
                  <option>avif@arc90.com</option>
                </select>
              </label>
            </section>
            <section>
              <label>SFX
                <select id="sfx_email" name="sfx_email" required>
                  <option value="default">Default address</option>
                  <option value="avi@aviflax.com">avi@aviflax.com (primary)</option>
                  <option>avif@arc90.com</option>
                </select>
              </label>
            </section>
          </details>

          <label class="help">To send digests to a different address, add it to <a href="https://github.com/settings/emails">your GitHub account</a> and verify it.</label>
        </fieldset>

        <fieldset id="frequency">
          <legend>Digest Frequency</legend>

          <section>
            <label><input type="radio" name="frequency" value="hourly" required checked> Hourly</label>
          </section>

          <section>
            <label><input id="frequency_daily" type="radio" name="frequency" value="daily" required> Daily</label>
            <label>around
              <select id="daily_hour" name="daily_hour" disabled>
                <option value="5">5:00 (AM)</option>
                <option value="6">6:00 (AM)</option>
                <option value="7">7:00 (AM)</option>
                <option value="8">8:00 (AM)</option>
                <option value="9">9:00 (AM)</option>
                <option value="10">10:00 (AM)</option>
                <option value="11">11:00 (AM)</option>
                <option value="12">12:00 (PM)</option>
                <option value="13">13:00 (1:00 PM)</option>
                <option value="14">14:00 (2:00 PM)</option>
                <option value="15">15:00 (3:00 PM)</option>
                <option value="16">16:00 (4:00 PM)</option>
                <option value="17">17:00 (5:00 PM)</option>
                <option value="18">18:00 (6:00 PM)</option>
                <option value="19">19:00 (7:00 PM)</option>
                <option value="20">20:00 (8:00 PM)</option>
                <option value="21">21:00 (9:00 PM)</option>
              </select>
          </section>

          <section>
            <label><input type="radio" id="frequency_weekly" name="frequency" value="weekly" required> Weekly</label>
            <label>on
              <select id="weekly_day" name="weekly_day" disabled>
                <option>Mondays</option>
                <option>Tuesdays</option>
                <option>Wednesdays</option>
                <option>Thursdays</option>
                <option>Fridays</option>
                <option>Saturdays</option>
                <option>Sundays</option>
              </select>
            </label>
            <label>around
              <select id="weekly_hour" name="weekly_hour" disabled>
                <option value="5">5:00 (AM)</option>
                <option value="6">6:00 (AM)</option>
                <option value="7">7:00 (AM)</option>
                <option value="8">8:00 (AM)</option>
                <option value="9">9:00 (AM)</option>
                <option value="10">10:00 (AM)</option>
                <option value="11">11:00 (AM)</option>
                <option value="12">12:00 (PM)</option>
                <option value="13">13:00 (1:00 PM)</option>
                <option value="14">14:00 (2:00 PM)</option>
                <option value="15">15:00 (3:00 PM)</option>
                <option value="16">16:00 (4:00 PM)</option>
                <option value="17">17:00 (5:00 PM)</option>
                <option value="18">18:00 (6:00 PM)</option>
                <option value="19">19:00 (7:00 PM)</option>
                <option value="20">20:00 (8:00 PM)</option>
                <option value="21">21:00 (9:00 PM)</option>
              </select>
          </section>

          <label class="help">Digests will be sent only if new notifications were created since the prior digest.</label>
        </fieldset>

        <fieldset>
          <legend>Notification Status</legend>
          <label><input type="checkbox" id="notifications_set_read_on_open" value="true"> Set notification status to <i>read</i> (in GitHub) when digest email is opened</label>
        </fieldset>
      </form>

      <form id="form_delete">
        <fieldset>
          <legend>Delete Account</legend>
          <section><label><input type="checkbox" id="checkbox_enable_delete"> Enable account deletion</label></section>
          <button id="button_delete" disabled>Delete Account</button>
        </fieldset>
      </form>
    </main>

    <footer>
      <nav>
        <ul>
          <li><a href="/about">About</a></li>
          <li><a href="/colophon">Colophon</a></li>
        </ul>
      </nav>
    </footer>

  </body>
</html>
